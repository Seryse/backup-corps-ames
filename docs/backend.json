{
  "entities": {
    "Formation": {
      "title": "Formation",
      "type": "object",
      "description": "Represents a training course or program offered (e.g., Reiki Level 1, Divination Mastery).",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Formation entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the formation (e.g., Reiki Level 1)."
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the formation content and objectives."
        },
        "language": {
          "type": "string",
          "description": "Language in which the formation is delivered (e.g., French, English, Spanish)."
        },
        "tokenProductId": {
          "type": "string",
          "description": "The identifier in the product catalog or store of the token for accessing the formation."
        },
        "price": {
          "type": "number",
          "description": "Price of the formation."
        },
        "currency": {
          "type": "string",
          "description": "Currency for the price (e.g., EUR, USD)."
        },
        "imageId": {
          "type": "string",
          "description": "ID for the placeholder image of the formation."
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "language",
        "tokenProductId",
        "price",
        "currency",
        "imageId"
      ]
    },
    "UserFormation": {
      "title": "UserFormation",
      "type": "object",
      "description": "Represents a user's enrollment in a specific formation and their access token.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the UserFormation entity."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N UserFormation)"
        },
        "formationId": {
          "type": "string",
          "description": "Reference to Formation. (Relationship: Formation 1:N UserFormation)"
        },
        "accessToken": {
          "type": "string",
          "description": "Token granting access to the dedicated hub/content for the formation."
        },
        "enrollmentDate": {
          "type": "string",
          "description": "Date when the user enrolled in the formation.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "formationId",
        "accessToken",
        "enrollmentDate"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/formations/{formationId}": {
      "schema": {
        "$ref": "#/entities/Formation"
      },
      "description": "Stores information about each formation. 'formationId' is the unique identifier for the formation."
    },
    "/users/{userId}/formations/{formationId}": {
      "schema": {
        "$ref": "#/entities/UserFormation"
      },
      "description": "Represents a user's enrollment in a specific formation and their access token. This subcollection uses path-based ownership for simplified security rules. Includes 'accessToken' for accessing formation content."
    }
  }
}
